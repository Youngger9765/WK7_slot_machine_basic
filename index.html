<!DOCTYPE html>
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">    <!--網頁亂碼？ 如果是網頁內容，請在網頁的最前面加上： <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=big5">.  -->

 <SCRIPT LANGUAGE="JavaScript">

//製作出一個陣列放入各張圖片作為資料庫
theImages=new Array()
for(i=0; i<4; i++){　//數字4,但圖片編號為0~3
theImages[i]=new Image()
theImages[i].src="image/"+i+".jpg"　//icon為連續圖檔的前置檔名,可自行更改
}
 
 var ImgNum1=1;
 var ImgNum2=1;
 var ImgNum3=1;
 
 var slot1=1;
 var slot2=1;
 var slot3=1;
 
 var run=0;
 
 function startgame() {
	if(run==0){
	startgame1();
	startgame2();
	startgame3();
	start=1;
	run=1;		//避免start重複按, 造成bug
	}
}
	
function startgame1(){
		if (slot1 != 0){
		//ImgNum1++										//每次進入startgame()都會加1
		//if (ImgNum1>3){									//如果ImgNum>3 則會重置到1
		//ImgNum1=1;
		//}
		
		ImgNum1=Math.floor(Math.random()*1000) % 4	// 做出隨機效果, 避免全停時同步產生同樣結果
		
		document.image1.src=theImages[ImgNum1].src      //可以替換image1的連結, 將NAME=image1的src更換
		timeID1=setTimeout("startgame1()",100)					//設定setTimeout()
		}
}

function startgame2(){
		if (slot2 != 0){
		//ImgNum2++										//每次進入startgame()都會加1
		//if (ImgNum2>3){									//如果ImgNum>3 則會重置到1
		//ImgNum2=1;
		//}
		ImgNum2=Math.floor(Math.random()*1000) % 4	// 做出隨機效果, 避免全停時同步產生同樣結果
		
		document.image2.src=theImages[ImgNum2].src      //可以替換image1的連結, 將NAME=image1的src更換
		timeID2=setTimeout("startgame2()",100)					//設定setTimeout()
		}
}

function startgame3(){
		if (slot3 != 0){
		//ImgNum3++										//每次進入startgame()都會加1
		//if (ImgNum3>3){									//如果ImgNum>3 則會重置到1
		//ImgNum3=1;
		//}
		ImgNum3=Math.floor(Math.random()*1000) % 4	// 做出隨機效果, 避免全停時同步產生同樣結果
		
		document.image3.src=theImages[ImgNum3].src      //可以替換image1的連結, 將NAME=image1的src更換
		timeID3=setTimeout("startgame3()",100)					//設定setTimeout()
		}
}

function stopall(){
	stop1();
	stop2();
	stop3();
}

 
 function stop1(){
	if(start==1){			//增加start做為辨識是否正在執行, 如果還未回到start=1, 則slot不會等於0, 避免stop紐多按一次讓int值跑掉
	slot1=0
	}
	int()
 }
 
 function stop2(){
	if(start==1){
	slot2=0
	}
	int()
 }
 
 function stop3(){
	if(start==1){
	slot3=0
	}
	int()
 }
  
 function int(){
	if((slot1==0) && (slot2==0) && (slot3==0)){       //一定要三張圖都stop才能進行int()
	
	if(ImgNum3==ImgNum2 && ImgNum3==ImgNum1){
	alert("You win")
	}
	else{
	alert("You lose")
	}
	
	
	
	start=0
	run=0
	slot1=1;	//slot調回1 (未啟動狀態)
	slot2=1;
	slot3=1;
	clearTimeout(timeID1)      //清除setTimeout, 跳出startgame()
	clearTimeout(timeID2)
	clearTimeout(timeID3)
	}
}
	
 
 
</script>


</head>

<body>
	
<center>
	<table>
	<tr>
		<td> <p><IMG SRC="image/1.jpg" NAME="image1" style="width:250px;height:250px;"></p> </td>
		<td> <p><IMG SRC="image/2.jpg" NAME="image2" style="width:250px;height:250px;"></p> </td>
		<td> <p><IMG SRC="image/3.jpg" NAME="image3" style="width:250px;height:250px;"></p> </td>
	</tr>
	<tr>
		<td ALIGN="center"> <button type="button" onclick="stop1()">STOP!</button> </td > 	
		<td ALIGN="center"> <button type="button" onclick="stop2()">STOP!</button> </td>
		<td ALIGN="center"> <button type="button" onclick="stop3()">STOP!</button> </td>
	</tr>
	<br>
	<tr>
		<td> </td>
		<td ALIGN="center"> 
		<button type="button" onclick="startgame()">START!</button>
		<button type="button" onclick="stopall()">All-STOP!</button>
		</td>
		<td> </td>
	</tr>
	
	</table>
</center>




</body>


</html>